{% extends 'base.html.twig' %}

{% block title %}Song index{% endblock %}
{% block stylesheets %}
	{{ encore_entry_link_tags('main') }}
{% endblock %}
{% block body %}
	<h1>Songs index</h1>

	{% if app.user %}
		<div class="mb-3">
			You are logged in as
			{{ app.user.username }},
			<a href="{{ path('app_logout') }}">Logout</a>
		</div>
	{% endif %}
<nav class="nav-bar"></nav>
<div class="container">
  <div class="row">
    {% for song in songs %}
      <div class="col-md-3 col-sm-6 mb-4">
        <a href="{{ path('app_song_show', {'id': song.id}) }}">
          <div class="card mx-auto" style="width: 18rem;">
            <img class="card-img-top" src="{{ asset('uploads/images/' ~ song.imagePath) }}" alt="Card image cap" style="max-width: 100%; max-height: 200px;">
            <div class="card-body">
              <p class="card-text">{{ song.name }}</p>
              <p class="card-text">{{ song.author.name }}</p>
            </div>
          </div>
        </a>
      </div>
    {% else %}
      <div class="col">
        <p>No records found</p>
      </div>
    {% endfor %}
  </div>
</div>
<button class = "primary-button"> 	<a href="{{ path('app_song_new') }}">Create new</a>
</button>
{% endblock %}